<?xml version="1.0" encoding="utf-8"?>
<mx:WindowedApplication xmlns:mx="http://www.adobe.com/2006/mxml" layout="absolute" borderColor="#868686" backgroundGradientAlphas="[1.0, 1.0]" backgroundGradientColors="[#E6EFF7, #F5F5F5]" height="451" width="402" currentState="Start">
	<mx:Script>
        <![CDATA[

            [Bindable]
            public var labels:Array = ["Years from Initiation", "Years to Exit", "VC's Required ROI", "New VC Investment", 
            							"VC's Rqd Terminal Value", "Terminal % Ownership", "Retention %", "Initial % Ownership",
            							"Shares Issued", "Shares Outstanding", "Share Price", "Firm Valuation", "Investment value at exit"]; 
            [Bindable]
 			public var columns:Array = ["hello"];
 			//columns.push("Col1");
        ]]>

    </mx:Script>
    <mx:Script source="VCCalc.as" />
	<mx:states>
		<mx:State name="Output">
			<mx:RemoveChild target="{vbox1}"/>
			<mx:RemoveChild target="{hbox1}"/>
			<mx:RemoveChild target="{hbox2}"/>
			<mx:RemoveChild target="{vbox2}"/>
			<mx:RemoveChild target="{vbox3}"/>
			<mx:RemoveChild target="{managementSharesParent}"/>
			<mx:RemoveChild target="{seriesInputParent}"/>
			<mx:AddChild relativeTo="{hbox3}" position="lastChild">
				<mx:AdvancedDataGrid id="output_table" designViewDataType="flat" width="100%" height="100%" dataProvider="{arrCol}">
					<mx:columns>
						<mx:AdvancedDataGridColumn/>
					</mx:columns>
				</mx:AdvancedDataGrid>
			</mx:AddChild>
			<mx:SetProperty target="{calcbutton}" name="label" value="Back"/>
			<mx:SetEventHandler target="{calcbutton}" name="click" handler="currentState='Start'"/>
			<mx:SetProperty target="{inputParent}" name="x"/>
			<mx:SetStyle target="{inputParent}" name="horizontalCenter" value="0"/>
			<mx:SetProperty target="{inputParent}" name="y"/>
			<mx:AddChild relativeTo="{output_table}" position="before">
				<mx:DataGrid dataProvider="{labels}" width="150" height="100%">
					<mx:columns>
						<mx:DataGridColumn headerText=" " dataField="col1"/>
					</mx:columns>
				</mx:DataGrid>
			</mx:AddChild>
			<mx:SetProperty target="{hbox3}" name="height" value="100%"/>
			<mx:SetProperty target="{inputParent}" name="height" value="100%"/>
			<mx:SetStyle target="{inputParent}" name="top" value="50"/>
		</mx:State>
		<mx:State name="Start">
			<mx:SetStyle target="{label1}" name="horizontalCenter" value="0"/>
			<mx:AddChild position="lastChild">
				<mx:Button x="10" y="0" label="DEBUG: Fill/Calc" click="debug()"/>
			</mx:AddChild>
		</mx:State>
	</mx:states>
	
	<mx:ArrayCollection id="arrCol">
        <mx:source>
            <mx:Array>
                
            </mx:Array>
        </mx:source>
    </mx:ArrayCollection>
	
	<mx:Label y="20" text="Venture Capital Method" horizontalCenter="-13" fontSize="20" id="label1"/>
	<mx:VBox width="100%" x="20" y="59" id="inputParent">
		<mx:HBox width="100%" id="hbox1">
			<mx:VBox width="50%" height="100%" id="vbox1">
				<mx:Label text="Months to exit" />
				<mx:Label text="Investment rounds" /> 
			</mx:VBox>
			<mx:VBox width="50%" height="100%">
				<mx:TextInput id="toExit" tabIndex="1"/>
				<mx:TextInput id="numRounds" change="openRounds()" tabIndex="2"/>
			</mx:VBox>
		</mx:HBox>
		<mx:VBox width="100%" id="seriesInputParent" height="0">
			<mx:Label text="Series A" id="serieslbl" />
			<mx:HBox width="100%">
				<mx:VBox width="50%" height="100%">
					<mx:Label text="Months to investment"/>
					<mx:Label text="Investment amount"/>
					<mx:Label text="Target ROI"/>
				</mx:VBox>
				<mx:VBox width="50%" height="100%">
					<mx:TextInput id="monToInvestment" tabIndex="3"/>
					<mx:TextInput id="investmentAmount" tabIndex="4"/>
					<mx:TextInput id="targetROI" tabIndex="5"/>
				</mx:VBox>
			</mx:HBox>
			<mx:Canvas width="100%">
				<mx:Button label="Prev" left="0" click="switchRound(-1)" id="prevbtn" enabled="false" />
				<mx:Button label="Next" right="0" click="switchRound(1)" id="nextbtn" />	
			</mx:Canvas>
		</mx:VBox>
		<mx:HBox width="100%" id="hbox2">
			<mx:VBox width="50%" height="100%">
				<mx:Label text="Number of founder shares"/>
				<mx:Label text="Include management pool"/>
			</mx:VBox>
			<mx:VBox width="50%" height="100%">
				<mx:TextInput id="numFounderShares" tabIndex="6"/>
				<mx:HBox width="100%">
					<mx:RadioButtonGroup id="managementPool"/>
					<mx:RadioButton label="Yes" groupName="managementPool" click="toggleManPool(true)" tabIndex="7" />
					<mx:RadioButton label="No" groupName="managementPool" click="toggleManPool(false)" tabIndex="8" />	
				</mx:HBox>
				
			</mx:VBox>
		</mx:HBox>
		<mx:HBox width="100%" id="managementSharesParent" height="0">
			<mx:VBox width="50%" height="100%">
				<mx:Label text="Number of unallocated shares" tabIndex="9"/>
			</mx:VBox>
			<mx:VBox width="50%" height="100%">
				<mx:TextInput id="numFreeShares"/>
			</mx:VBox>
		</mx:HBox>
		<mx:HBox width="100%" height="100%" id="hbox3">
			<mx:VBox width="50%" height="100%" id="vbox3">
				<mx:Label text="P/E ratio"/>
				<mx:Label text="Earnings"/>
			</mx:VBox>
			<mx:VBox width="50%" height="100%" id="vbox2">
				<mx:TextInput id="PERatio" tabIndex="10" /> 
				<mx:TextInput id="earnings" tabIndex="11" />
			</mx:VBox>
		</mx:HBox>
		<mx:ApplicationControlBar dock="true">
		<mx:Button label="Calculate" id="calcbutton" click="calculate();"/>
		</mx:ApplicationControlBar>
	</mx:VBox>	
	
		
</mx:WindowedApplication>
